<div class="modal-content p-6">
  <div class="flex justify-between items-center border-b pb-3">
    <h2 class="text-xl font-semibold text-gray-800">Perfil de Usuario</h2>
  </div>
  <div *ngIf="loading" class="p-4">
    Cargando perfil...
  </div>
  <div *ngIf="error" class="p-4 text-red-500">
    {{ error }}
  </div>
  <div *ngIf="!loading && !error" class="p-4">
    <div class="flex items-center mb-4">
      <img [src]="user?.avatar || 'https://cdn-icons-png.flaticon.com/512/3607/3607444.png'" alt="{{user?.username}}'avatar" class="w-32 h-32 rounded-full mr-4">
      <div>
        <h2 class="text-2xl font-semibold text-gray-900">{{ user?.username }}</h2>
        <p class="text-gray-700 mb-2">{{ user?.email }}</p>
      </div>
    </div>
    <div class="mb-4">
      <p class="text-gray-700"><strong>Reputación:</strong> {{ user?.reputation ?? 0 }}</p>
      <p class="text-gray-700"><strong>Intercambios realizados:</strong> {{ user?.exchanges ?? 0 }}</p>
    </div>
    <div class="mb-4">
      <h3 class="text-xl font-semibold text-pink-500">Productos para intercambio</h3>
      <ul class="list-disc pl-5">
        <li *ngFor="let product of user?.products ?? []">
          <div class="flex items-center mb-2">
            <img [src]="product.images" alt="{{product.title}}" class="w-16 h-16 rounded mr-4">
            <span>{{ product.title }}</span>
            <button class="ml-auto bg-blue-500 text-white py-1 px-3 rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-300" (click)="proposeExchange(product._id)">
              Proponer Intercambio
            </button>
          </div>
        </li>
      </ul>
    </div>
    <div class="mb-4">
      <h3 class="text-xl font-semibold text-pink-500">Información Adicional</h3>
      <p class="text-gray-700"><strong>Nombre:</strong> {{ user?.name ?? '' }}</p>
    </div>
    <div class="mb-4">
      <button class="bg-green-500 text-white py-2 px-4 rounded-full hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors duration-300" (click)="followUser(user?.id ?? '')">
        Seguir
      </button>
      <button class="ml-4 bg-red-500 text-white py-2 px-4 rounded-full hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-colors duration-300" (click)="likeUser(user?.id ?? '')">
        Dar Like
      </button>
    </div>
  </div>
</div>


